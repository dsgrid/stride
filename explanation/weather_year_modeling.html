<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html"><link rel="search" title="Search" href="../search.html"><link rel="next" title="How Tos" href="../how_tos/index.html"><link rel="prev" title="dbt Computation" href="dbt_computation.html">

    <!-- Generated with Sphinx 8.2.3 and Furo 2025.12.19 -->
        <title>Weather Year Modeling - Stride Documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=7bdb33bb" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/autodoc_pydantic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=8dab3a3b" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Stride Documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <span class="sidebar-brand-text">Stride Documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">Core Concepts</a><input aria-label="Toggle navigation of Core Concepts" checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="data_download.html">Data Download</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_validation.html">Data Validation with dsgrid</a></li>
<li class="toctree-l2"><a class="reference internal" href="customizing_checks.html">Customizing Dataset Checks</a></li>
<li class="toctree-l2"><a class="reference internal" href="dbt_computation.html">dbt Computation</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Weather Year Modeling</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../how_tos/index.html">How Tos</a><input aria-label="Toggle navigation of How Tos" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../how_tos/getting_started/index.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../how_tos/download_datasets.html">Download Datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../how_tos/override_calculated_tables.html">Override Calculated Tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../how_tos/launch_dashboard.html">Launch the Dashboard</a></li>
<li class="toctree-l2"><a class="reference internal" href="../how_tos/customize_palette.html">Customize the Color Palette</a></li>
<li class="toctree-l2"><a class="reference internal" href="../how_tos/compare_scenarios.html">Compare Scenarios</a></li>
<li class="toctree-l2"><a class="reference internal" href="../how_tos/export_results.html">Export Results</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../tutorials/index.html">Tutorials</a><input aria-label="Toggle navigation of Tutorials" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/create_project.html">Create a project</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/dbt_project.html">Browse the dbt project</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/manage_calculated_tables.html">Manage calculated tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/data_api_tutorial.html">Process results with Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/debugging_stride.html">Debug stride source code</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../reference/index.html">Reference</a><input aria-label="Toggle navigation of Reference" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../reference/data_api.html">Data API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/project_api.html">stride Project API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/cli_reference.html">CLI reference</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../_sources/explanation/weather_year_modeling.md.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="weather-year-modeling">
<span id="id1"></span><h1>Weather Year Modeling<a class="headerlink" href="#weather-year-modeling" title="Link to this heading">¶</a></h1>
<p>STRIDE uses detailed weather data to adjust electricity load shapes for temperature variations throughout the year. This page explains how weather data are processed and applied to create realistic hourly load profiles.</p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">¶</a></h2>
<p>Weather-based load adjustments follow this workflow:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Weather BAIT Data
    ↓
Degree Day Calculation (HDD/CDD)
    ↓
Shoulder Month Smoothing (Adjusted HDD/CDD)
    ↓
Temperature Multipliers
    ↓
Load Shape Expansion (Representative → Full Year)
    ↓
Annual Energy Scaling
    ↓
Final Hourly Load Shapes
</pre></div>
</div>
</section>
<section id="input-weather-data">
<h2>Input weather data<a class="headerlink" href="#input-weather-data" title="Link to this heading">¶</a></h2>
<p>STRIDE uses Building-Adjusted Integrated Temperature (BAIT) data derived from ERA5 reanalysis weather data. BAIT is a composite temperature metric that accounts for:</p>
<ul class="simple">
<li><p>Outdoor dry-bulb temperature</p></li>
<li><p>Surface solar radiation</p></li>
<li><p>Wind speed at 2m</p></li>
<li><p>Humidity</p></li>
<li><p>Building thermal characteristics</p></li>
</ul>
<p>The calculation methodology is similar to that described in Staffell, Pfenninger, and Johnson (2023).<a class="footnote-reference brackets" href="#id3" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p>
<p>The weather data includes:</p>
<ul class="simple">
<li><p><strong>Temporal resolution</strong>: Daily (averaged from hourly ERA5 data)</p></li>
<li><p><strong>Coverage</strong>: Weather years 1995-2024</p></li>
<li><p><strong>Geographic representation</strong>: Country-level, based on a single highly or most-populous location per country</p></li>
<li><p><strong>Variables</strong>: Temperature, Solar Radiation, Wind Speed, Dew Point, Humidity, BAIT</p></li>
</ul>
</section>
<section id="degree-day-calculation">
<h2>Degree day calculation<a class="headerlink" href="#degree-day-calculation" title="Link to this heading">¶</a></h2>
<section id="heating-and-cooling-degree-days">
<h3>Heating and cooling degree days<a class="headerlink" href="#heating-and-cooling-degree-days" title="Link to this heading">¶</a></h3>
<p>Degree days quantify how much heating or cooling is needed on a given day:</p>
<p><strong>Heating Degree Days (HDD)</strong>:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">HDD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GREATEST</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">heating_threshold</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">BAIT</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Cooling Degree Days (CDD)</strong>:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">CDD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GREATEST</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">BAIT</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">cooling_threshold</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="modelparameters">
<h3>ModelParameters<a class="headerlink" href="#modelparameters" title="Link to this heading">¶</a></h3>
<p>These thresholds are configurable through <code class="docutils literal notranslate"><span class="pre">ModelParameters</span></code>:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Unit</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">heating_threshold</span></code></p></td>
<td><p>Temperature below which heating is needed</p></td>
<td><p>18.0</p></td>
<td><p>°C</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">cooling_threshold</span></code></p></td>
<td><p>Temperature above which cooling is needed</p></td>
<td><p>18.0</p></td>
<td><p>°C</p></td>
</tr>
</tbody>
</table>
</div>
<p>Example configuration in <code class="docutils literal notranslate"><span class="pre">project.json5</span></code>:</p>
<div class="highlight-json5 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nv">project_id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;my_project&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="c1">// ... other config ...</span>
<span class="w">  </span><span class="nv">model_parameters</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">heating_threshold</span><span class="p">:</span><span class="w"> </span><span class="mf">18.0</span><span class="p">,</span>
<span class="w">    </span><span class="nv">cooling_threshold</span><span class="p">:</span><span class="w"> </span><span class="mf">18.0</span><span class="p">,</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="degree-day-grouping">
<h3>Degree day grouping<a class="headerlink" href="#degree-day-grouping" title="Link to this heading">¶</a></h3>
<p>Degree days are aggregated by:</p>
<ul class="simple">
<li><p><strong>Geography</strong>: Country or region</p></li>
<li><p><strong>Weather Year</strong>: Reference year for weather patterns</p></li>
<li><p><strong>Month</strong>: Calendar month (1-12)</p></li>
<li><p><strong>Day Type</strong>: Weekday or weekend</p></li>
</ul>
<p>This grouping enables:</p>
<ul class="simple">
<li><p>Seasonal variation analysis</p></li>
<li><p>Weekday/weekend pattern differences</p></li>
<li><p>Representative day selection</p></li>
</ul>
</section>
</section>
<section id="temperature-multiplier-calculation">
<h2>Temperature multiplier calculation<a class="headerlink" href="#temperature-multiplier-calculation" title="Link to this heading">¶</a></h2>
<p>Temperature multipliers scale representative day heating/cooling load across days within each group (month + day type) based on relative temperature extremes.</p>
<section id="basic-multiplier-formula">
<h3>Basic multiplier formula<a class="headerlink" href="#basic-multiplier-formula" title="Link to this heading">¶</a></h3>
<p>For a day with HDD value in a month with total HDD:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>heating_multiplier = (HDD / total_HDD) × num_days
</pre></div>
</div>
<p>Similarly for cooling:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>cooling_multiplier = (CDD / total_CDD) × num_days
</pre></div>
</div>
<p><strong>Key property</strong>: Multipliers sum to <code class="docutils literal notranslate"><span class="pre">num_days</span></code> within each group, preserving total energy.</p>
</section>
<section id="the-shoulder-month-problem">
<h3>The shoulder month problem<a class="headerlink" href="#the-shoulder-month-problem" title="Link to this heading">¶</a></h3>
<p>In spring and fall (“shoulder months”), some days may have zero or very low degree days while others have significant heating or cooling needs. Without adjustment, this creates unrealistic load spikes by concentrating all HVAC load on just the extreme days.</p>
<p>Example shoulder month (April):</p>
<ul class="simple">
<li><p>Days 1-21, 27-30: HDD = 0 (mild weather)</p></li>
<li><p>Days 22-26: HDD = 5-10 (cold snap)</p></li>
</ul>
<p>Without smoothing, all heating load would be assigned to days 22-26, creating artificial spikes.</p>
</section>
<section id="shoulder-month-smoothing">
<h3>Shoulder month smoothing<a class="headerlink" href="#shoulder-month-smoothing" title="Link to this heading">¶</a></h3>
<p>STRIDE applies a minimum threshold to smooth these transitions:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- Calculate maximum degree days in each group</span>
<span class="n">max_hdd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">MAX</span><span class="p">(</span><span class="n">hdd</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="k">month</span><span class="p">,</span><span class="w"> </span><span class="n">day_type</span><span class="p">)</span>
<span class="n">min_threshold</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">max_hdd</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">shoulder_month_smoothing_factor</span>

<span class="c1">-- Apply threshold</span>
<span class="n">adjusted_hdd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">CASE</span>
<span class="w">    </span><span class="k">WHEN</span><span class="w"> </span><span class="n">hdd</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">min_threshold</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">min_threshold</span>
<span class="w">    </span><span class="k">ELSE</span><span class="w"> </span><span class="n">hdd</span>
<span class="k">END</span>
</pre></div>
</div>
<p>This ensures all days in shoulder months experience some HVAC load, preventing unrealistic concentration.</p>
</section>
<section id="smoothing-parameters">
<h3>Smoothing parameters<a class="headerlink" href="#smoothing-parameters" title="Link to this heading">¶</a></h3>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Typical Values</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">enable_shoulder_month_smoothing</span></code></p></td>
<td><p>Enable/disable smoothing</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">true</span></code>/<code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">shoulder_month_smoothing_factor</span></code></p></td>
<td><p>Divisor for max degree days</p></td>
<td><p>10.0</p></td>
<td><p>5.0 (aggressive), 10.0 (moderate), 20.0 (gentle)</p></td>
</tr>
</tbody>
</table>
</div>
<p>Example in <code class="docutils literal notranslate"><span class="pre">project.json5</span></code>:</p>
<div class="highlight-json5 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nv">project_id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;my_project&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="c1">// ... other config ...</span>
<span class="w">  </span><span class="nv">model_parameters</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">enable_shoulder_month_smoothing</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<span class="w">    </span><span class="nv">shoulder_month_smoothing_factor</span><span class="p">:</span><span class="w"> </span><span class="mf">10.0</span><span class="p">,</span><span class="w">  </span><span class="c1">// Moderate smoothing</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Effect of smoothing factor</strong>:</p>
<ul class="simple">
<li><p><strong>Lower values (5)</strong>: More aggressive smoothing, broader load distribution</p></li>
<li><p><strong>Higher values (20)</strong>: Gentler smoothing, closer to original pattern</p></li>
<li><p><strong>Disabled</strong>: No smoothing, potential for unrealistic spikes</p></li>
</ul>
</section>
<section id="adjusted-multiplier-calculation">
<h3>Adjusted multiplier calculation<a class="headerlink" href="#adjusted-multiplier-calculation" title="Link to this heading">¶</a></h3>
<p>Final multipliers use adjusted degree days:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>heating_multiplier = (adjusted_hdd / adjusted_total_hdd) × num_days
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>cooling_multiplier = (adjusted_cdd / adjusted_total_cdd) × num_days
</pre></div>
</div>
<p>This preserves energy conservation (multipliers still sum to <code class="docutils literal notranslate"><span class="pre">num_days</span></code>) while smoothing shoulder month transitions.</p>
</section>
</section>
<section id="application-to-load-shapes">
<h2>Application to load shapes<a class="headerlink" href="#application-to-load-shapes" title="Link to this heading">¶</a></h2>
<section id="load-shapes-for-representative-days">
<h3>Load shapes for representative days<a class="headerlink" href="#load-shapes-for-representative-days" title="Link to this heading">¶</a></h3>
<p>Load shapes from the IMAGE Integrated Assessment Model (Castillo et al. 2022)<a class="footnote-reference brackets" href="#id4" id="id5" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> provide hourly consumption profiles. The dataset includes:</p>
<ul class="simple">
<li><p><strong>One weekday and one weekend day per month</strong> (24 total representative days)</p></li>
<li><p><strong>24 hourly values per day</strong> (e.g., hour 0 = midnight-1am, hour 23 = 11pm-midnight)</p></li>
<li><p><strong>Segmentation by</strong>: End use (Heating, Cooling, Other), sector (Residential, Commercial, Industrial, Transportation), geography, model year</p></li>
</ul>
</section>
<section id="expansion-to-full-year">
<h3>Expansion to full year<a class="headerlink" href="#expansion-to-full-year" title="Link to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">load_shapes_expanded</span></code> dbt model expands these 24 representative days into 8760 hours (365 days × 24 hours) by:</p>
<ol class="arabic">
<li><p><strong>Matching each calendar day</strong> of the selected weather year to its representative profile:</p>
<ul class="simple">
<li><p>Days are matched by month (January → January representative day) and day type (weekday/weekend)</p></li>
<li><p>Example: Tuesday, January 15 uses the January weekday profile</p></li>
</ul>
</li>
<li><p><strong>Applying temperature multipliers</strong> to adjust for weather:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">adjusted_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load_shape_value</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">multiplier</span>

<span class="c1">-- Multiplier depends on end use:</span>
<span class="n">multiplier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">CASE</span>
<span class="w">    </span><span class="k">WHEN</span><span class="w"> </span><span class="n">enduse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;heating&#39;</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">heating_multiplier</span>
<span class="w">    </span><span class="k">WHEN</span><span class="w"> </span><span class="n">enduse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;cooling&#39;</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">cooling_multiplier</span>
<span class="w">    </span><span class="k">ELSE</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="w">  </span><span class="c1">-- Non-HVAC end uses (lighting, equipment, etc.)</span>
<span class="k">END</span>
</pre></div>
</div>
</li>
<li><p><strong>Repeating the 24-hour pattern</strong> for each day with its specific temperature multiplier</p></li>
</ol>
<p><strong>Result</strong>: Full-year hourly load shapes that preserve:</p>
<ul class="simple">
<li><p>Original hourly patterns from IMAGE (morning/evening peaks, daily cycles)</p></li>
<li><p>Monthly seasonal variation (via representative days)</p></li>
<li><p>Weekday/weekend differences</p></li>
<li><p>Historical weather patterns (via weather-driven adjustments for heating/cooling end uses based on ERA5)</p></li>
</ul>
</section>
</section>
<section id="scaling-to-annual-consumption">
<h2>Scaling to annual consumption<a class="headerlink" href="#scaling-to-annual-consumption" title="Link to this heading">¶</a></h2>
<p>The final step scales weather-adjusted hourly shapes to match annual energy projections.</p>
<section id="annual-energy-projection">
<h3>Annual energy projection<a class="headerlink" href="#annual-energy-projection" title="Link to this heading">¶</a></h3>
<p>For each sector/subsector/model year, STRIDE calculates annual energy demand from:</p>
<ul class="simple">
<li><p>Energy intensity regressions (energy per unit GDP, or population x HDI)</p></li>
<li><p>Energy use driver projections (GDP, HDI, population)</p></li>
</ul>
<p>This produces annual totals in MWh for each sector.</p>
</section>
<section id="scaling-factor-calculation">
<h3>Scaling factor calculation<a class="headerlink" href="#scaling-factor-calculation" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sum all hourly values for the year</span>
<span class="n">load_shape_annual_total</span> <span class="o">=</span> <span class="n">SUM</span><span class="p">(</span><span class="n">expanded_hourly_values</span><span class="p">)</span>

<span class="c1"># Calculate scaling factor</span>
<span class="n">scaling_factor</span> <span class="o">=</span> <span class="n">projected_annual_energy</span> <span class="o">/</span> <span class="n">load_shape_annual_total</span>
</pre></div>
</div>
</section>
<section id="final-hourly-values">
<h3>Final hourly values<a class="headerlink" href="#final-hourly-values" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">final_hourly_load</span> <span class="o">=</span> <span class="n">expanded_hourly_value</span> <span class="o">*</span> <span class="n">scaling_factor</span>
</pre></div>
</div>
<p>This ensures:</p>
<ul class="simple">
<li><p>Hourly values sum to the projected annual total</p></li>
<li><p>Weather-based daily/seasonal patterns are preserved</p></li>
<li><p>Realistic load profiles throughout the year</p></li>
</ul>
</section>
</section>
<section id="dbt-models">
<h2>dbt models<a class="headerlink" href="#dbt-models" title="Link to this heading">¶</a></h2>
<p>The weather year modeling pipeline is implemented in these dbt models:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Model</p></th>
<th class="head"><p>Purpose</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">weather_bait_daily</span></code></p></td>
<td><p>Pivots weather data from long to wide format and extracts date components</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">weather_degree_days</span></code></p></td>
<td><p>Calculates daily HDD and CDD from BAIT</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">weather_degree_days_grouped</span></code></p></td>
<td><p>Aggregates degree days by geography, weather year, month, and day type</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">temperature_multipliers</span></code></p></td>
<td><p>Computes daily multipliers with shoulder month smoothing</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">load_shapes_expanded</span></code></p></td>
<td><p>Applies temperature multipliers to expand representative days to full year</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">energy_projection_*</span></code></p></td>
<td><p>Combines expanded load shapes with energy intensity to produce projections</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="logging-and-diagnostics">
<h2>Logging and diagnostics<a class="headerlink" href="#logging-and-diagnostics" title="Link to this heading">¶</a></h2>
<p>When computing energy projections, STRIDE logs temperature multiplier statistics:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">INFO</span><span class="p">:</span> <span class="n">Computing</span> <span class="n">energy</span> <span class="n">projection</span> <span class="k">with</span> <span class="n">model</span> <span class="n">parameters</span><span class="p">:</span> 
      <span class="n">heating_threshold</span><span class="o">=</span><span class="mf">18.0</span><span class="p">,</span> <span class="n">cooling_threshold</span><span class="o">=</span><span class="mf">18.0</span><span class="p">,</span> 
      <span class="n">enable_shoulder_month_smoothing</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">shoulder_month_smoothing_factor</span><span class="o">=</span><span class="mf">10.0</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Running</span> <span class="n">scenario</span><span class="o">=</span><span class="n">baseline</span> <span class="k">with</span> <span class="n">weather_year</span><span class="o">=</span><span class="mi">2018</span><span class="p">,</span> 
      <span class="n">shoulder_month_smoothing</span><span class="o">=</span><span class="n">enabled</span> <span class="p">(</span><span class="n">factor</span><span class="o">=</span><span class="mf">10.0</span><span class="p">)</span>
<span class="n">INFO</span><span class="p">:</span> <span class="n">Temperature</span> <span class="n">multiplier</span> <span class="n">ranges</span> <span class="k">for</span> <span class="n">scenario</span><span class="o">=</span><span class="n">baseline</span><span class="p">:</span> 
      <span class="n">heating</span><span class="o">=</span><span class="p">[</span><span class="mf">0.234</span><span class="p">,</span> <span class="mf">3.456</span><span class="p">],</span> <span class="n">cooling</span><span class="o">=</span><span class="p">[</span><span class="mf">0.123</span><span class="p">,</span> <span class="mf">4.567</span><span class="p">],</span> <span class="n">other</span><span class="o">=</span><span class="p">[</span><span class="mf">1.000</span><span class="p">,</span> <span class="mf">1.000</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="related-topics">
<h2>Related Topics<a class="headerlink" href="#related-topics" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="dbt_computation.html#dbt-computation"><span class="std std-ref">dbt Computation</span></a> - Overall dbt transformation pipeline</p></li>
<li><p><a class="reference internal" href="../tutorials/create_project.html#create-project-tutorial"><span class="std std-ref">Create a project</span></a> - Tutorial on creating a stride project</p></li>
<li><p><a class="reference internal" href="../tutorials/dbt_project.html#dbt-projet"><span class="std std-ref">Browse the dbt project</span></a> - Tutorial on browsing the dbt portion of a stride project</p></li>
<li><p><a class="reference internal" href="../tutorials/data_api_tutorial.html#data-api-tutorial"><span class="std std-ref">Process results with Python</span></a> - Tutorial on accessing and processing result data using Python</p></li>
</ul>
</section>
</section>
<hr class="footnotes docutils" />
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id3" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">1</a><span class="fn-bracket">]</span></span>
<p>Staffell, I., Pfenninger, S., &amp; Johnson, N. (2023). A global model of hourly space heating and cooling demand at multiple spatial scales. <em>Nature Energy</em>, 8, 1328-1344. https://doi.org/10.1038/s41560-023-01341-5</p>
</aside>
<aside class="footnote brackets" id="id4" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id5">2</a><span class="fn-bracket">]</span></span>
<p>Castillo, R., van Ruijven, B.J., Pfenninger, S., van Vuuren, D.P., Carrara, S., &amp; Patel, M.K. (2022). Future global electricity demand load curves. <em>Energy</em>, 259, 124857. https://doi.org/10.1016/j.energy.2022.124857</p>
</aside>
</aside>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../how_tos/index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">How Tos</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="dbt_computation.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">dbt Computation</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, Alliance for Sustainable Energy, LLC
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Weather Year Modeling</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#input-weather-data">Input weather data</a></li>
<li><a class="reference internal" href="#degree-day-calculation">Degree day calculation</a><ul>
<li><a class="reference internal" href="#heating-and-cooling-degree-days">Heating and cooling degree days</a></li>
<li><a class="reference internal" href="#modelparameters">ModelParameters</a></li>
<li><a class="reference internal" href="#degree-day-grouping">Degree day grouping</a></li>
</ul>
</li>
<li><a class="reference internal" href="#temperature-multiplier-calculation">Temperature multiplier calculation</a><ul>
<li><a class="reference internal" href="#basic-multiplier-formula">Basic multiplier formula</a></li>
<li><a class="reference internal" href="#the-shoulder-month-problem">The shoulder month problem</a></li>
<li><a class="reference internal" href="#shoulder-month-smoothing">Shoulder month smoothing</a></li>
<li><a class="reference internal" href="#smoothing-parameters">Smoothing parameters</a></li>
<li><a class="reference internal" href="#adjusted-multiplier-calculation">Adjusted multiplier calculation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#application-to-load-shapes">Application to load shapes</a><ul>
<li><a class="reference internal" href="#load-shapes-for-representative-days">Load shapes for representative days</a></li>
<li><a class="reference internal" href="#expansion-to-full-year">Expansion to full year</a></li>
</ul>
</li>
<li><a class="reference internal" href="#scaling-to-annual-consumption">Scaling to annual consumption</a><ul>
<li><a class="reference internal" href="#annual-energy-projection">Annual energy projection</a></li>
<li><a class="reference internal" href="#scaling-factor-calculation">Scaling factor calculation</a></li>
<li><a class="reference internal" href="#final-hourly-values">Final hourly values</a></li>
</ul>
</li>
<li><a class="reference internal" href="#dbt-models">dbt models</a></li>
<li><a class="reference internal" href="#logging-and-diagnostics">Logging and diagnostics</a></li>
<li><a class="reference internal" href="#related-topics">Related Topics</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=f539c95a"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=46bd48cc"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=3a0c56fd"></script>
    </body>
</html>